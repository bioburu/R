#-----preview fastq files in command terminal
less fastq.gz
#-----clean fastq files in rfastp
library(Rfastp)
pe_json_report <- rfastp(read1 = 'R1.fastq.gz',
                         read2 = 'R2.fastq.gz',
                         outputFastq = 'name_filtered_paired',
                         adapterTrimming = TRUE, qualityFiltering = TRUE,
                         qualityFilterPhred = 30)
summary <- qcSummary(pe_json_report)
summary
plot <- curvePlot(pe_json_report)
plot
plot2 <- curvePlot(pe_json_report,curves = 'content_curves')
plot2
trim <- trimSummary(pe_json_report)
#----check sequencing depth of all filtered files
#----if split is needed to even out the files use fastqsplitter

#---Or use seqkit for even splits

conda install fastqsplitter
fastqsplitter -i /home/deviancedev/Desktop/drive_nov2023/FCCC/alignments/tumor2_filtered_paired_R1.fastq.gz 
-o tumor2_split_R1.fastq.gz -o tumor2b_split_R1.fastq.gz
#----Salmon alignments
conda activate salmon
salmon quant -i /home/deviancedev/Desktop/genome_folder/alias/mm10_cdna/salmon_index/default 
-l IU -1 /home/deviancedev/Desktop/drive_nov2023/FCCC/alignments/finals/norm1_R1.fastq.gz 
-2 /home/deviancedev/Desktop/drive_nov2023/FCCC/alignments/finals/norm1_R2.fastq.gz 
--validateMappings -o norm1_salmon
#--navigate to default folder in salmon index folder
#-- example: Desktop/genome_folder/alias/mm10cdna/salmon_index/default 
#---save quant.sf files to .csv files
#---combine all runs in libreoffice and save as .csv for analysis
#---align ensembl ids to gene names in BiomaRt
